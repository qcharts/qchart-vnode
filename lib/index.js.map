{"version":3,"sources":["webpack://vnode/webpack/universalModuleDefinition","webpack://vnode/webpack/bootstrap","webpack://vnode/./node_modules/filter-clone/lib/index.js","webpack://vnode/./src/h.js","webpack://vnode/./src/consts.js","webpack://vnode/./src/diff.js","webpack://vnode/./src/render.js","webpack://vnode/./tween/easing.js","webpack://vnode/../utils/index.js","webpack://vnode/./util/interpolate.js","webpack://vnode/./util/index.js","webpack://vnode/./tween/tween.js","webpack://vnode/./src/nodeHelper.js","webpack://vnode/./src/patch.js","webpack://vnode/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof","obj","iterator","constructor","_default","filterClone","include","exclude","res","getType","len","length","push","j","indexOf","test","str","toString","slice","toLowerCase","VNode","flattern","arr","concat","apply","h","tagName","attrs","children","node","filter","Boolean","CREATE","REPLACE","UPDATE","REMOVE","isNull","diffVNodeChildren","oldVNode","newVNode","patches","Math","max","diff","diffVNodeAttrs","oldVNodeAttrs","newVNodeAttrs","assign","isDiffrentVNode","type","createElement","vnode","TagName","el","patchAttrs","this","appendChild","map","forEach","easing","linear","k","quadIn","quadOut","quadInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","cos","PI","sinusoidalOut","sin","sinusoidalInOut","exponentialIn","pow","exponentialOut","exponentialInOut","circularIn","sqrt","circularOut","circularInOut","elasticIn","a","asin","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","jsType","constant","x","number","b","array","bl","al","min","Array","interpolate","now","performance","Date","requestAnimationFrame","cancelAnimationFrame","startTime","fn","setTimeout","id","clearTimeout","Tween","_start","_end","_delay","_canceled","_duration","_easing","_onUpdate","_onStart","val","time","Error","_onComplete","e","callback","elapseTime","animateTime","timer","delayTime","Promise","resolve","step","start","cancel","then","addAnimate","graph","animation","deepObjectMerge","args","objectMerge","FirstOBJ","SecondOBJ","renderAttrs","from","middle","use","to","delay","duration","useTween","formatter","ani","onUpdate","attr","keys","animate","fill","finished","offset","setAnimation","patche","ref","addRef","console","error","normal","cloneNode","initialStates","states","reduce","inputState","stateName","currentAttrs","originAttrs","warn","nodeName","state","addState","split","cb","off","on","evt","addEvent","patch","parent","num","newEl","replaceChild","remove","child","ind","_ind","curNode"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vnode\"] = factory();\n\telse\n\t\troot[\"vnode\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction filterClone(obj, include, exclude) {\n  var res = obj;\n\n  if (_typeof(obj) == 'object') {\n    if (getType(obj) === 'array') {\n      res = [];\n\n      for (var i = 0, len = obj.length; i < len; i++) {\n        res.push(filterClone(obj[i], include, exclude));\n      }\n    } else if (obj !== null) {\n      res = Object.create(null);\n\n      for (var j in obj) {\n        if (include && getType(include) === 'array' && include.length) {\n          if (include.indexOf(j) != -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'regexp') {\n          if (include.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (include && getType(include) === 'function') {\n          if (include(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'array' && exclude.length) {\n          if (exclude.indexOf(j) === -1) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'regexp') {\n          if (!exclude.test(j)) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else if (exclude && getType(exclude) === 'function') {\n          if (!exclude(j, obj[j])) {\n            res[j] = filterClone(obj[j], include, exclude);\n          }\n        } else {\n          res[j] = filterClone(obj[j], include, exclude);\n        }\n      }\n    }\n  }\n\n  return res;\n\n  function getType(value) {\n    var str = _typeof(value);\n\n    if (str === 'object') {\n      return value === null ? null : Object.prototype.toString.call(value).slice(8, -1).toLowerCase();\n    }\n\n    return str;\n  }\n}\n\nvar _default = filterClone;\nexports[\"default\"] = _default;\n//# sourceMappingURL=index.js.map","const VNode = function VNode() {}\nconst flattern = arr => [].concat.apply([], arr)\n\nexport default function h(tagName, attrs, ...children) {\n  const node = new VNode()\n  node.tagName = tagName\n  node.attrs = attrs || {}\n  node.children = flattern(children).filter(Boolean)\n  return node\n}\n","export const CREATE = 'CREATE'\nexport const REPLACE = 'REPLACE'\nexport const UPDATE = 'UPDATE'\nexport const REMOVE = 'REMOVE'\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\n\nconst isNull = obj => obj === undefined || obj === null\n\nconst diffVNodeChildren = (oldVNode, newVNode) => {\n  const patches = []\n  // 新旧节点的子节点长度可能不一样，但是进行比对的次数应当为最长子节点数目\n  const len = Math.max(oldVNode.children.length, newVNode.children.length)\n  for (let i = 0; i < len; i++) {\n    // 注意：这里不使用 patches.push ，是为了保持 子节点 在整个节点树的位置是不变的\n    patches[i] = diff(oldVNode.children[i], newVNode.children[i])\n  }\n  return patches\n}\n\n/**\n * 比对节点属性\n * 首先合并新旧节点属性\n * 新节点没有的属性，则移除属性\n * 新旧节点属性不一致，则设置属性\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst diffVNodeAttrs = (oldVNode, newVNode) => {\n  let patches = []\n  const oldVNodeAttrs = oldVNode.attrs\n  const newVNodeAttrs = newVNode.attrs\n  const attrs = Object.assign({}, oldVNodeAttrs, newVNodeAttrs)\n\n  patches = attrs\n\n  return patches\n}\n\n/**\n * 判断两节点是否不一样\n * 1. 旧节点为文本节点，新节点不是\n * 2. 新节点为文本节点，旧节点不是\n * 3. 新旧节点标签名不一样\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nconst isDiffrentVNode = (oldVNode, newVNode) => {\n  return (typeof oldVNode !== 'object' && oldVNode !== newVNode) || (typeof newVNode !== 'object' && oldVNode !== newVNode) || oldVNode.tagName !== newVNode.tagName\n}\n\n/**\n * diff 新旧节点差异\n * case CREATE: 旧节点不存在，则应当新建新节点\n * case REMOVE: 新节点不存在，则移出旧节点\n * case REPLACE: 只比较新旧节点，不比较其子元素，新旧节点标签名或文本内容不一致，则应当替换旧节点\n * case UPDATE: 到这里，新旧节点可能只剩下 attrs 和 子节点未进行 diff，所以直接循环 diffAttrs 和 diffChildren 即可\n * @param {*} oldVNode\n * @param {*} newVNode\n */\nexport default function diff(oldVNode, newVNode) {\n  if (isNull(oldVNode)) {\n    return { type: CREATE, newVNode }\n  }\n  if (isNull(newVNode)) {\n    return { type: REMOVE }\n  }\n  if (isDiffrentVNode(oldVNode, newVNode)) {\n    return { type: REPLACE, newVNode }\n  }\n  if (newVNode.tagName) {\n    return {\n      type: UPDATE,\n      children: diffVNodeChildren(oldVNode, newVNode),\n      attrs: diffVNodeAttrs(oldVNode, newVNode)\n    }\n  }\n}\n","import { patchAttrs } from './patch'\nexport function createElement(vnode) {\n  if (!vnode) {\n    return\n  }\n  //当前图形通过绑定this传递进来\n  let graph = this\n  let { tagName: TagName, attrs, children } = vnode\n  const el = new TagName()\n  patchAttrs(graph, el, attrs)\n  if (el.appendChild) {\n    children\n      .map(createElement.bind(this))\n      .filter(Boolean)\n      .forEach(el.appendChild.bind(el))\n  }\n  return el\n}\n","/**\n * 缓动代码来自 https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n */\nconst easing = {\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  linear: function(k) {\n    return k\n  },\n\n  quadIn(k) {\n    return k * k\n  },\n\n  quadOut(k) {\n    return k * (2 - k)\n  },\n\n  quadInOut(k) {\n    return ((k *= 2) <= 1 ? k * k : --k * (2 - k) + 1) / 2\n  },\n\n  // 三次方的缓动（t^3）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicIn: function(k) {\n    return k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicOut: function(k) {\n    return --k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  cubicInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k + 2)\n  },\n\n  // 四次方的缓动（t^4）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticIn: function(k) {\n    return k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticOut: function(k) {\n    return 1 - --k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quarticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k\n    }\n    return -0.5 * ((k -= 2) * k * k * k - 2)\n  },\n\n  // 五次方的缓动（t^5）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticIn: function(k) {\n    return k * k * k * k * k\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticOut: function(k) {\n    return --k * k * k * k * k + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  quinticInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k\n    }\n    return 0.5 * ((k -= 2) * k * k * k * k + 2)\n  },\n\n  // 正弦曲线的缓动（sin(t)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalIn: function(k) {\n    return 1 - Math.cos((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalOut: function(k) {\n    return Math.sin((k * Math.PI) / 2)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  sinusoidalInOut: function(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k))\n  },\n\n  // 指数曲线的缓动（2^t）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialIn: function(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialOut: function(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  exponentialInOut: function(k) {\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1)\n    }\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2)\n  },\n\n  // 圆形曲线的缓动（sqrt(1-t^2)）\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularIn: function(k) {\n    return 1 - Math.sqrt(1 - k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularOut: function(k) {\n    return Math.sqrt(1 - --k * k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  circularInOut: function(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1)\n    }\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1)\n  },\n\n  // 创建类似于弹簧在停止前来回振荡的动画\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticIn: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return -(\n      a *\n      Math.pow(2, 10 * (k -= 1)) *\n      Math.sin(((k - s) * (2 * Math.PI)) / p)\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    return (\n      a * Math.pow(2, -10 * k) * Math.sin(((k - s) * (2 * Math.PI)) / p) + 1\n    )\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  elasticInOut: function(k) {\n    var s\n    var a = 0.1\n    var p = 0.4\n    if (k === 0) {\n      return 0\n    }\n    if (k === 1) {\n      return 1\n    }\n    if (!a || a < 1) {\n      a = 1\n      s = p / 4\n    } else {\n      s = (p * Math.asin(1 / a)) / (2 * Math.PI)\n    }\n    if ((k *= 2) < 1) {\n      return (\n        -0.5 *\n        (a *\n          Math.pow(2, 10 * (k -= 1)) *\n          Math.sin(((k - s) * (2 * Math.PI)) / p))\n      )\n    }\n    return (\n      a *\n        Math.pow(2, -10 * (k -= 1)) *\n        Math.sin(((k - s) * (2 * Math.PI)) / p) *\n        0.5 +\n      1\n    )\n  },\n\n  // 在某一动画开始沿指示的路径进行动画处理前稍稍收回该动画的移动\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backIn: function(k) {\n    var s = 1.70158\n    return k * k * ((s + 1) * k - s)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backOut: function(k) {\n    var s = 1.70158\n    return --k * k * ((s + 1) * k + s) + 1\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  backInOut: function(k) {\n    var s = 1.70158 * 1.525\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s))\n    }\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2)\n  },\n\n  // 创建弹跳效果\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceIn: function(k) {\n    return 1 - easing.bounceOut(1 - k)\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceOut: function(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375\n    }\n  },\n  /**\n   * @param {number} k\n   * @return {number}\n   */\n  bounceInOut: function(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5\n    }\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5\n  }\n}\n\nexport default easing\n","function deepObjectMerge(...args) {\n  // 深度合并对象\n  let res = args[0]\n  if (args.length > 1) {\n    for (let i = 1; i < args.length; i++) {\n      objectMerge(res, args[i])\n    }\n  }\n  return res\n  function objectMerge(FirstOBJ, SecondOBJ) {\n    for (var key in SecondOBJ) {\n      FirstOBJ[key] = FirstOBJ[key] && FirstOBJ[key].toString() === '[object Object]' ? deepObjectMerge(FirstOBJ[key], SecondOBJ[key]) : (FirstOBJ[key] = SecondOBJ[key])\n    }\n    return FirstOBJ\n  }\n}\n\nfunction emptyObject() {\n  //创建空对象\n  return Object.create(null)\n}\n\nfunction jsType(value) {\n  //判断js数据类型\n  const str = typeof value\n  if (str === 'object') {\n    return value === null\n      ? null\n      : Object.prototype.toString\n          .call(value)\n          .slice(8, -1)\n          .toLowerCase()\n  }\n  return str\n}\nfunction throttle(fn, interval = 16, immediately = false) {\n  //截流函数\n  let timer = null\n  let firstTime = immediately\n  return function(...args) {\n    if (firstTime) {\n      // 第一次加载\n      fn.apply(this, args)\n      return (firstTime = false)\n    }\n    if (timer) {\n      // 定时器正在执行中，跳过\n      return\n    }\n    timer = setTimeout(() => {\n      clearTimeout(timer)\n      timer = null\n      fn.apply(this, args)\n    }, interval)\n  }\n}\nfunction getDistancePx(num, distance) {\n  if (jsType(num) === 'string' && num.match(/%$/)) {\n    return (Number(num.substring(0, num.indexOf('%'))) / 100) * distance\n  }\n  return num\n}\nexport { deepObjectMerge, emptyObject, jsType, throttle, getDistancePx }\n","import { jsType } from '@qcharts/utils'\n\nconst constant = x => () => x\nconst number = (a, b) => t => a + (b - a) * t\nconst array = (a, b) => {\n  const bl = b ? b.length : 0\n  const al = a ? Math.min(bl, a.length) : 0\n  const x = new Array(al)\n  const c = new Array(bl)\n  let i\n\n  for (i = 0; i < al; ++i) {\n    x[i] = interpolate(a[i], b[i])\n  }\n\n  for (; i < bl; ++i) {\n    c[i] = b[i]\n  }\n\n  return t => {\n    for (i = 0; i < al; ++i) {\n      c[i] = x[i](t)\n    }\n\n    return c\n  }\n}\nconst object = (a, b) => {\n  let i = {}\n  let c = {}\n  let k\n\n  if (!a || !jsType(a) === 'object') {\n    a = {}\n  }\n\n  if (!b || !jsType(b) === 'object') {\n    b = {}\n  }\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k])\n    } else {\n      c[k] = b[k]\n    }\n  }\n\n  return t => {\n    for (k in i) {\n      c[k] = i[k](t)\n    }\n\n    return c\n  }\n}\n\nexport default function interpolate(a, b) {\n  let type = typeof b\n  return b === null || type === 'string' || type === 'boolean' ? constant(b) : (type === 'number' ? number : jsType(b) === 'array' ? array : object)(a, b)\n}\n","import interpolate from './interpolate'\nimport invariant from './invariant'\ninvariant\nfunction now() {\n  return typeof performance !== 'undefined' ? performance.now() : Date.now()\n}\n\nlet requestAnimationFrame = window.requestAnimationFrame\nlet cancelAnimationFrame = window.cancelAnimationFrame\nif (!requestAnimationFrame) {\n  const startTime = now()\n  requestAnimationFrame = fn => {\n    return setTimeout(() => {\n      fn(now() - startTime)\n    }, 16)\n  }\n  cancelAnimationFrame = id => {\n    return clearTimeout(id)\n  }\n}\nconst delay = time =>\n  new Promise(resolve =>\n    setTimeout(() => {\n      resolve()\n    }, time)\n  )\nexport { now, interpolate, invariant, requestAnimationFrame, cancelAnimationFrame, delay }\n","import { interpolate, delay, now, requestAnimationFrame, cancelAnimationFrame } from '../util'\nimport easing from './easing'\nfunction Tween(name = 'linear') {\n  this._start = null\n  this._end = null\n  this._delay = 0\n\n  this._canceled = false\n  this._duration = 1\n  this._easing = easing[name] ? easing[name] : easing.linear\n\n  this._onUpdate = () => {}\n  this._onStart = () => {}\n\n  return this\n}\n\nTween.prototype = {\n  from(val) {\n    this._start = val\n    return this\n  },\n\n  to(val) {\n    this._end = val\n    return this\n  },\n\n  duration(time) {\n    if (typeof time !== 'number') {\n      throw new Error('Duration time must be a number')\n    }\n    this._duration = time\n    return this\n  },\n\n  delay(time) {\n    this._delay = time\n    return this\n  },\n\n  easing(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('easing function must be a function')\n    }\n    this._easing = fn\n    return this\n  },\n\n  onStart(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('start callback must be a function')\n    }\n    this._onStart = fn\n    return this\n  },\n\n  onUpdate(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('update callback must be a function')\n    }\n    this._onUpdate = fn\n    return this\n  },\n\n  onComplete(fn) {\n    if (typeof fn !== 'function') {\n      throw new Error('complete callback must be a function')\n    }\n    this._onComplete = fn\n    return this\n  },\n  start() {\n    // const dt = 16.7 // 每一帧 16.7 ms\n    const e = this._easing\n    const i = interpolate(this._start, this._end)\n    const callback = this._onUpdate\n    let elapseTime = 0 // 已消耗时长\n    let animateTime = this._duration\n    let timer = null\n    let delayTime = this._delay\n    let startTime = 0\n\n    return new Promise(resolve => {\n      const step = () => {\n        elapseTime = now() - startTime\n        const t = e(Math.min(1.0, elapseTime / animateTime))\n        if (elapseTime >= animateTime) {\n          callback(i(1))\n          resolve(this)\n          cancelAnimationFrame(timer)\n        } else {\n          callback(i(t))\n          timer = requestAnimationFrame(step)\n        }\n      }\n\n      const start = () => {\n        startTime = now()\n        this._onStart(this._start, this._end)\n        timer = requestAnimationFrame(step)\n      }\n\n      this.cancel = () => {\n        cancelAnimationFrame(timer)\n      }\n\n      if (delayTime && delayTime > 0) {\n        delay(delayTime).then(start)\n      } else {\n        start()\n      }\n    })\n  }\n}\n\nexport default Tween\n","import { Tween } from '../tween'\nimport { deepObjectMerge } from '@qcharts/utils'\nimport filterClone from 'filter-clone'\n\n/**\n * 为 spritejs 元素添加动画\n * @param {*} el\n * @param {*} attrs\n */\nexport function addAnimate(graph, el, attrs) {\n  if (!el || !attrs.animation) {\n    return\n  }\n  const animation = deepObjectMerge(graph.renderAttrs.animation, attrs.animation)\n  // const animation = {\n  //   delay: 0,\n  //   duration: 300,\n  //   useTween: false,\n  //   ...attrs.animation\n  // }\n\n  const { from, middle, use, to, delay, duration, useTween, formatter = d => d } = animation\n\n  if (!from || !to || !use) {\n    return\n  }\n\n  let ani = filterClone(animation, null, ['from', 'to', 'formatter', 'use'])\n\n  const setAnimation = () => {\n    if (!useTween) {\n      let keys = null\n      if (middle) {\n        keys = [from, middle, to]\n      } else {\n        keys = [from, to]\n      }\n      el.animate(keys, {\n        fill: 'both',\n        ...ani\n      }).finished.then(() => {\n        delete to.offset\n        el.attr(to)\n      })\n    } else {\n      new Tween()\n        .from(from)\n        .to(to)\n        .delay(delay)\n        .duration(duration)\n        .onUpdate(attr => {\n          el.attr(formatter(attr))\n        })\n        .start()\n    }\n  }\n  setAnimation()\n}\n\n/**\n * 为 spritejs 元素设置 诸如`normal` 、`hover`  style\n * 通过将 `style` 转换为 `states`\n * 使得开发可以直接通过 `el.attr('state', 'hover')` 来切换样式\n * @param {*} el\n * @param {*} attrs\n */\nexport function addState(el, attrs) {\n  const normal = Object.create(null)\n  let cloneNode = null\n\n  let initialStates = { normal, ...(attrs.states || {}) }\n\n  delete attrs.states\n\n  let states = Object.keys(attrs).reduce((a, key) => {\n    if (!/\\S+state$/i.test(key)) {\n      return a\n    }\n\n    let inputState = attrs[key]\n\n    if (!inputState || typeof inputState !== 'object') {\n      return a\n    }\n\n    const stateName = key.slice(0, -5)\n\n    if (!cloneNode) {\n      cloneNode = el.cloneNode()\n    }\n\n    cloneNode.attr(inputState)\n\n    const currentAttrs = cloneNode.attr()\n    Object.keys(inputState).forEach(k => {\n      inputState[k] = currentAttrs[k]\n    })\n\n    const originAttrs = Object.assign({}, el.attr(), attrs)\n\n    Object.keys(inputState).forEach(key => {\n      if (!(key in originAttrs)) {\n        console.warn(`Set invalid attribute '${key}' to ${el.nodeName}.`)\n        normal[key] = inputState[key]\n      } else {\n        normal[key] = originAttrs[key]\n      }\n    })\n\n    a[stateName] = inputState\n    delete attrs[key]\n    return a\n  }, initialStates)\n\n  el.attr({ state: 'normal', states })\n}\n\n/**\n * ref 回调函数\n * @param {*} el\n * @param {*} attrs\n */\nexport function addRef(graph, el, attrs) {\n  const ref = attrs.ref\n  delete attrs.ref\n  if (ref && el) {\n    try {\n      graph.addRef(ref, el)\n    } catch (e) {\n      console.error(e)\n    }\n  }\n}\n\n/**\n * 为 spritejs 元素添加事件\n * @param {*} el\n * @param {*} attrs\n */\nexport function addEvent(el, attrs = {}) {\n  Object.keys(attrs).forEach(key => {\n    if (!/^@/.test(key)) {\n      return\n    }\n    const type = key.split('@')[1].toLowerCase()\n    const cb = attrs[key] || (() => {})\n    el.off(type)\n    el.on(type, evt => cb.bind(el)(evt))\n    delete attrs[key]\n  })\n}\n","import { CREATE, REPLACE, UPDATE, REMOVE } from './consts'\nimport { createElement } from './render'\nimport { addEvent, addState, addAnimate, addRef } from './nodeHelper'\n\nexport function patchAttrs (graph, el, patche) {\n  if (!el) {\n    return\n  }\n  if (!Object.keys(patche).length) {\n    return\n  }\n  addRef(graph, el, patche)\n  addState(el, patche)\n  addEvent(el, patche)\n  el.attr(patche)\n  addAnimate(graph, el, patche)\n}\n\n/**\n * @param {*} parent\n * @param {*} patches\n * @param {*} index\n */\nexport default function patch (parent, patche, num = 0) {\n  //core中调用patch的时候，base中处理绑定this到当前图表\n  let i = num\n  let graph = this\n  if (!patche || !parent) {\n    return\n  }\n  switch (patche.type) {\n    case CREATE: {\n      const { newVNode } = patche\n      const newEl = createElement.bind(graph)(newVNode)\n      newEl && parent.appendChild(newEl)\n      break\n    }\n    case REPLACE: {\n      const { newVNode } = patche\n      const newEl = createElement(newVNode)\n      parent.replaceChild(newEl, el)\n      break\n    }\n    case REMOVE: {\n      parent.children[i] && parent.children[i].remove()\n      break\n    }\n    case UPDATE: {\n      const { attrs, children } = patche\n      //对应的dom与vnode打上对应的ind，防止remove与create的时候变动i\n      parent.children.forEach((child, ind) => {\n        child._ind = ind;\n      })\n      children.forEach((child, ind) => {\n        child._ind = ind;\n      })\n      let curNode = parent.children.filter(child => child._ind === i)[0]\n      patchAttrs(graph, curNode, attrs)\n      let len = children.length > parent.children.length ? children.length : parent.children.length\n      for (let j = 0; j < len; j++) {\n        patch.bind(graph)(curNode, children.filter(child => child._ind === j)[0], j)\n      }\n      break\n    }\n  }\n}\n","import h from './h'\nimport diff from './diff'\nimport patch from './patch'\n\nexport { h, diff, patch }\n"],"sourceRoot":""}