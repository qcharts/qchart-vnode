!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.vnode=n():t.vnode=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function t(n,e,o){var i=n;if("object"==r(n))if("array"===l(n)){i=[];for(var u=0,a=n.length;u<a;u++)i.push(t(n[u],e,o))}else if(null!==n)for(var c in i=Object.create(null),n)e&&"array"===l(e)&&e.length?-1!=e.indexOf(c)&&(i[c]=t(n[c],e,o)):e&&"regexp"===l(e)?e.test(c)&&(i[c]=t(n[c],e,o)):e&&"function"===l(e)?e(c,n[c])&&(i[c]=t(n[c],e,o)):o&&"array"===l(o)&&o.length?-1===o.indexOf(c)&&(i[c]=t(n[c],e,o)):o&&"regexp"===l(o)?o.test(c)||(i[c]=t(n[c],e,o)):o&&"function"===l(o)&&o(c,n[c])||(i[c]=t(n[c],e,o));return i;function l(t){var n=r(t);return"object"===n?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():n}};n.default=o},function(t,n,e){"use strict";e.r(n);const r=function(){},o=t=>[].concat.apply([],t);function i(t,n,...e){const i=new r;return i.tagName=t,i.attrs=n||{},i.children=o(e).filter(Boolean),i}const u="CREATE",a="REPLACE",c="UPDATE",l="REMOVE",f=t=>null==t,s=(t,n)=>{const e=[],r=Math.max(t.children.length,n.children.length);for(let o=0;o<r;o++)e[o]=p(t.children[o],n.children[o]);return e},h=(t,n)=>{let e=[];const r=t.attrs,o=n.attrs;return e=Object.assign({},r,o),e},d=(t,n)=>"object"!=typeof t&&t!==n||"object"!=typeof n&&t!==n||t.tagName!==n.tagName;function p(t,n){return f(t)?{type:u,newVNode:n}:f(n)?{type:l}:d(t,n)?{type:a,newVNode:n}:n.tagName?{type:c,children:s(t,n),attrs:h(t,n)}:void 0}function b(t){if(!t)return;let{tagName:n,attrs:e,children:r}=t;const o=new n;return C(this,o,e),o.appendChild&&r.map(b.bind(this)).filter(Boolean).forEach(o.appendChild.bind(o)),o}const y={linear:function(t){return t},quadIn:t=>t*t,quadOut:t=>t*(2-t),quadInOut:t=>((t*=2)<=1?t*t:--t*(2-t)+1)/2,cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var n,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,n=.1):n=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4))},elasticOut:function(t){var n,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,n=.1):n=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var n,e=.1;return 0===t?0:1===t?1:(!e||e<1?(e=1,n=.1):n=.4*Math.asin(1/e)/(2*Math.PI),(t*=2)<1?e*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},backOut:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},backInOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)},bounceIn:function(t){return 1-y.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*y.bounceIn(2*t):.5*y.bounceOut(2*t-1)+.5}};var m=y;function O(t){const n=typeof t;return"object"===n?null===t?null:Object.prototype.toString.call(t).slice(8,-1).toLowerCase():n}const w=t=>()=>t,M=(t,n)=>e=>t+(n-t)*e,g=(t,n)=>{const e=n?n.length:0,r=t?Math.min(e,t.length):0,o=new Array(r),i=new Array(e);let u;for(u=0;u<r;++u)o[u]=j(t[u],n[u]);for(;u<e;++u)i[u]=n[u];return t=>{for(u=0;u<r;++u)i[u]=o[u](t);return i}},_=(t,n)=>{let e,r={},o={};for(e in t&&"object"!==!O(t)||(t={}),n&&"object"!==!O(n)||(n={}),n)e in t?r[e]=j(t[e],n[e]):o[e]=n[e];return t=>{for(e in r)o[e]=r[e](t);return o}};function j(t,n){let e=typeof n;return null===n||"string"===e||"boolean"===e?w(n):("number"===e?M:"array"===O(n)?g:_)(t,n)}function I(){return"undefined"!=typeof performance?performance.now():Date.now()}let v=window.requestAnimationFrame,P=window.cancelAnimationFrame;if(!v){const t=I();v=n=>setTimeout(()=>{n(I()-t)},16),P=t=>clearTimeout(t)}function S(t="linear"){return this._start=null,this._end=null,this._delay=0,this._canceled=!1,this._duration=1,this._easing=m[t]?m[t]:m.linear,this._onUpdate=()=>{},this._onStart=()=>{},this}S.prototype={from(t){return this._start=t,this},to(t){return this._end=t,this},duration(t){if("number"!=typeof t)throw new Error("Duration time must be a number");return this._duration=t,this},delay(t){return this._delay=t,this},easing(t){if("function"!=typeof t)throw new Error("easing function must be a function");return this._easing=t,this},onStart(t){if("function"!=typeof t)throw new Error("start callback must be a function");return this._onStart=t,this},onUpdate(t){if("function"!=typeof t)throw new Error("update callback must be a function");return this._onUpdate=t,this},onComplete(t){if("function"!=typeof t)throw new Error("complete callback must be a function");return this._onComplete=t,this},start(){const t=this._easing,n=j(this._start,this._end),e=this._onUpdate;let r=0,o=this._duration,i=null,u=this._delay,a=0;return new Promise(c=>{const l=()=>{r=I()-a;const u=t(Math.min(1,r/o));r>=o?(e(n(1)),c(this),P(i)):(e(n(u)),i=v(l))},f=()=>{a=I(),this._onStart(this._start,this._end),i=v(l)};this.cancel=()=>{P(i)},u&&u>0?(t=>new Promise(n=>setTimeout(()=>{n()},t)))(u).then(f):f()})}};var E=S,x=e(0),k=e.n(x);function q(t,n,e){if(!n||!e.animation)return;const r=function t(...n){let e=n[0];if(n.length>1)for(let t=1;t<n.length;t++)r(e,n[t]);return e;function r(n,e){for(var r in e)n[r]=n[r]&&"[object Object]"===n[r].toString()?t(n[r],e[r]):n[r]=e[r];return n}}(t.renderAttrs.animation,e.animation),{from:o,middle:i,use:u,to:a,delay:c,duration:l,useTween:f,formatter:s=(t=>t)}=r;if(!o||!a||!u)return;let h=k()(r,null,["from","to","formatter","use"]);(()=>{if(f)(new E).from(o).to(a).delay(c).duration(l).onUpdate(t=>{n.attr(s(t))}).start();else{let t=null;t=i?[o,i,a]:[o,a],n.animate(t,{fill:"both",...h}).finished.then(()=>{delete a.offset,n.attr(a)})}})()}function C(t,n,e){n&&Object.keys(e).length&&(!function(t,n,e){const r=e.ref;if(delete e.ref,r&&n)try{t.addRef(r,n)}catch(t){console.error(t)}}(t,n,e),function(t,n){const e=Object.create(null);let r=null,o={normal:e,...n.states||{}};delete n.states;let i=Object.keys(n).reduce((o,i)=>{if(!/\S+state$/i.test(i))return o;let u=n[i];if(!u||"object"!=typeof u)return o;const a=i.slice(0,-5);r||(r=t.cloneNode()),r.attr(u);const c=r.attr();Object.keys(u).forEach(t=>{u[t]=c[t]});const l=Object.assign({},t.attr(),n);return Object.keys(u).forEach(n=>{n in l?e[n]=l[n]:(console.warn(`Set invalid attribute '${n}' to ${t.nodeName}.`),e[n]=u[n])}),o[a]=u,delete n[i],o},o);t.attr({state:"normal",states:i})}(n,e),function(t,n={}){Object.keys(n).forEach(e=>{if(!/^@/.test(e))return;const r=e.split("@")[1].toLowerCase(),o=n[e]||(()=>{});t.off(r),t.on(r,n=>o.bind(t)(n)),delete n[e]})}(n,e),n.attr(e),q(t,n,e))}function N(t,n,e=0){let r=e,o=this;if(n&&t)switch(n.type){case u:{const{newVNode:e}=n,r=b.bind(o)(e);r&&t.appendChild(r);break}case a:{const{newVNode:e}=n,r=b(e);t.replaceChild(r,el);break}case l:t.children[r]&&t.children[r].remove();break;case c:{const{attrs:e,children:i}=n;t.children.forEach((t,n)=>{t._ind=n}),i.forEach((t,n)=>{t._ind=n});let u=t.children.filter(t=>t._ind===r)[0];C(o,u,e);let a=i.length>t.children.length?i.length:t.children.length;for(let t=0;t<a;t++)N.bind(o)(u,i.filter(n=>n._ind===t)[0],t);break}}}e.d(n,"h",(function(){return i})),e.d(n,"diff",(function(){return p})),e.d(n,"patch",(function(){return N}))}])}));
//# sourceMappingURL=index.js.map